import { Button, HorizontalBox } from "std-widgets.slint";

import { MenuBar } from "menubar.slint";
import { SideBar } from "sidebar.slint";
import { AboutPage } from "about.slint";
import { MainPage } from "main.slint";

export component AppWindow inherits Window {
    in-out property<int> counter: 42;
    callback request-increase-value();

    title: "distrox";
    background: white;

    preferred-width: 100%;
    preferred-height: 100%;

    VerticalLayout {
        spacing: 5px;
        preferred-width: 100%;
        preferred-height: 100%;

        MenuBar {
            Text {
                text: "distrox";
            }

            Button {
                text: "Click!";
                // does nothing
            }

            Button {
                text: "Me!";
                // does nothing
            }
        }

        HorizontalBox {
            spacing: 5px;
            preferred-width: 100%;
            preferred-height: 100%;

            Rectangle {
                min-width: 10px;
                max-width: 50px;
                // spacing
            }

            side-bar := SideBar {
                title: "";
                model: [
                    "Main",
                    "About",
                ];
            }

            if(side-bar.current-item == 0) : MainPage {}
            if(side-bar.current-item == 4) : AboutPage {}
        }
    }

}
